<html>
	<head>
		<title>CS 184 Project 3-1 Write-Up</title>
	</head>
	<body>
		<h1>CS 184 Project 3-1 Write-Up</h1>
		<h2>Overview </h2>
		<p>
			This project implements mirror and glass models with both reflection and refraction and simulates a thin lens to enable the depth of field effect.
		</p>
		<h2>
			Part 1
		</h2>
		<p>
			Each of the six images was rendered with 64 samples per pixel and 4 samples per light.
		</p>
		<p>
			max_ray_depth set to 0
			<br>
			<br>
			When max_ray_depth is equal to 0, there are no light rays bouncing off, so we can only see the light source, and we cannot see the spheres. 
			<br>
			<br>
			<img src="writeup_img/part1_0.png" width="50%">
			<br>
			<br>
			max_ray_depth set to 1
			<br>
			<br>
			When max_ray_depth is equal to 1, the walls are lit up and we can see the outlines of both spheres. There aren't enough bounces for the mirrored sphere to reflect the objects that surround it or for the refracted sphere to illuminate. 
			<br>
			<br>
			<img src="writeup_img/part1_1.png" width="50%">
			<br>
			<br>
			max_ray_depth set to 2
			<br>
			<br>
			When max_ray_depth is equal to 2, we can see the walls and the mirrored sphere. The mirrored sphere reflects the walls and the refracted ball, but it is still pretty dark. The mirrored sphere also doesn’t reflect the top gray wall, as there aren’t enough light bounces for it to reflect the top wall. The mirror sphere also reflects its own shadow that is cast from the light source. The refracted sphere is starting to illuminate, but it is not completely illuminated because there aren’t enough bounces to fully illuminate it; there are some light rays that enter the refracted sphere, but there doesn’t seem to be a lot of light rays that exit the sphere. At max_ray_depth of 2, we can also start seeing the shadows that form underneath the two spheres, but the shadows appear to be darker than normal.
			<br>
			<br>
			<img src="writeup_img/part1_2.png" width="50%">
			<br>
			<br>
			max_ray_depth set to 3
			<br>
			<br>
			When max_ray_depth is equal to 3, the refracted sphere is finally illuminated. The shadow underneath the refracted sphere also has a lit up circular shape inside it. At 3 bounces, the light source was able to refract through the refracted sphere, which causes this circular light. The mirrored sphere looks the same as in part 2, except the shadow underneath the sphere is a lot lighter. An increase in bounces allowed more light to bounce around, which caused the shadows to become lighter. The reflection of the sphere inside the mirror sphere is still really dark, which is caused by the fact that at 3 bounces, there aren’t enough bounces for the mirrored sphere to reflect the sphere.
			<br>
			<br>
			<img src="writeup_img/part1_3.png" width="50%">
			<br>
			<br>
			max_ray_depth set to 4
			<br>
			<br>
			When max_ray_depth is equal to 4, the mirror sphere is finally able to reflect the refracted sphere. The reflection of the sphere inside the mirror sphere is blue because the ray bounces off the wall to the refracted sphere then to the mirrored sphere. Because the mirrored sphere is to the left of the refracted sphere, it will only see the blue refracted wall from its perspective. At max_ray_depth of 4, the shadows underneath the mirrored sphere seems even lighter, as an increase in light bounces allows the shadows to be more light. On the bottom right side of the right blue wall, we can also see a small speck of light; this light appears because after 4 bounces, there is enough light to bounce around and refract back into the sphere and appear on the other side. In the past, we only saw the refracted light from the light source, but now, we see this speck because of light that bounced around and entered the refracted sphere at a different angle.
			<br>
			<br>
			<img src="writeup_img/part1_4.png" width="50%">
			<br>
			<br>
			max_ray_depth set to 5
			<br>
			<br>
			At max_ray_depth 5 and 100, there doesn’t appear to be a huge difference between these images with that when the max_ray_depth was 4. There doesn’t need to be many ray bounces to render a good image because the scene is simple.
			<br>
			<br>
			<img src="writeup_img/part1_5.png" width="50%">
			<br>
			<br>
			max_ray_depth set to 100
			<br>
			<br>
			<img src="writeup_img/part1_100.png" width="50%">
			<br>
			<br>

		</p>
		<h2>
			Part 4
		</h2>
			<p>
				When light passes through the pinhole, only the chief ray - which is the ray that passes through the center of the aperture - is able to reach the imaging surface. This is because the opening is very small and any other ray that is not in line with the chief ray will be blocked by the edges of the hole. As a result, the image formed by a pinhole camera is typically sharp, but it is also relatively dim, as only a small amount of light is able to pass through the aperture. Additionally, because the size of the aperture is fixed, there is no way to adjust the depth of field or focus of the image.
				On the other hand, a thin lens is able to accommodate not only the chief ray but also a range of parallel rays that pass through the lens. This allows the thin lens to form a brighter and more detailed image, as more light is able to pass through the lens and reach the imaging surface. Thin lenses are able to control the blurriness of an image by changing their focal length, which is the distance between the lens and the point where the light is focused. By adjusting the focal length, a thin lens can change the position of the focused image and thus control the depth of field and focus of the image.
			</p>

			<h3>Depth</h3>

			<p>
				As the depth increases, the focus of the image moves from in front of the dragon to behind. When depth is 4.5, it puts the focus on the dragon. When the depth decreases/increases, the dragon becomes out of focus and blurry.
			</p>

			<img src="writeup_img/part4_d4.png" width="50%">
			<img src="writeup_img/part4_d4.5.png" width="50%">
			<img src="writeup_img/part4_d5.png" width="50%">
			<img src="writeup_img/part4_d5.5.png" width="50%">

			<h3>Aperture</h3>

			<p>	
				As the aperture size increases, the image becomes more blurry and depth of field decreases.
			</p>

			<img src="writeup_img/part4_b0.23.png" width="50%">
			<img src="writeup_img/part4_b0.48.png" width="50%">
			<img src="writeup_img/part4_b0.73.png" width="50%">
			<img src="writeup_img/part4_b1.23.png" width="50%">
	</body>
</html>